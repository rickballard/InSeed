<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>InSeed · Contact</title>
<link rel="icon" href="/InSeed/assets/icons/favicon-48.png">
<link rel="manifest" href="/InSeed/site.webmanifest">
<style>
  body{font:16px/1.55 system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#0b0d12;color:#e6e6e6;margin:0}
  main{max-width:900px;margin:4rem auto;padding:0 1.25rem}
  h1{font-size:2rem;margin:0 0 1rem}
  .row{margin:.7rem 0}
  label{display:block;margin-bottom:.25rem;color:#cbd5e1}
  input,textarea{width:100%;padding:.65rem .75rem;border-radius:10px;background:#0b1220;border:1px solid #1f2a44;color:#e5e7eb}
  textarea{min-height:160px;resize:vertical}
  .note{font-size:12px;color:#94a3b8;margin-top:.3rem}
  button{padding:.6rem 1rem;border-radius:10px;border:1px solid #1f2a44;background:#2563eb;color:#fff;cursor:pointer}
  .ok{background:#16a34a;border-color:#16a34a}
  .err{background:#b91c1c;border-color:#b91c1c}
  .hp{position:absolute;left:-9999px}
</style>
<script>
  window.CONTACT_CONFIG = {
    endpoint: "https://your-worker.workers.dev",
    to: "rballard@InSeed.com",
    allow: @((ConvertTo-Json https://rickballard.github.io https://inseed.com https://groupbuild.org -Compress)),
    turnstile_sitekey: ""
  };
</script>
<script src="/InSeed/assets/js/contact-embed.js" defer></script>
<main>
  <h1>Contact InSeed</h1>
  <p>Prefer email? <a href="mailto:rballard@InSeed.com">rballard@InSeed.com</a></p>

  <form id="contact" novalidate>
    <div class="row"><label>Name<input name="name" required></label></div>
    <div class="row"><label>Email<input type="email" name="email" required></label></div>
    <div class="row"><label>Subject<input name="subject" required></label></div>
    <div class="row"><label>Message<textarea name="message" required></textarea></label></div>
    <input class="hp" name="website" tabindex="-1" autocomplete="off">
    <div class="row"><label><input type="checkbox" name="consent" required> I consent to being contacted about this request.</label>
    <div class="note">We only use your info to respond. No newsletters or resale.</div></div>
    <div class="row"><button type="submit">Send</button> <span id="status" class="note"></span></div>
  </form>
</main>
<script>
  const form = document.querySelector('#contact');
  const status = document.querySelector('#status');
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const { endpoint, to } = window.CONTACT_CONFIG || {};
    const fd = new FormData(form);
    if (fd.get('website')) { status.textContent=''; form.reset(); return; }
    const payload = {
      to: to || '',
      name: (fd.get('name')||'').toString(),
      email:(fd.get('email')||'').toString(),
      subject:(fd.get('subject')||'').toString(),
      message:(fd.get('message')||'').toString(),
      consent: !!fd.get('consent'),
      origin: location.origin
    };
    status.textContent = 'Sending…';
    try {
      const r = await fetch(endpoint, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload) });
      if (!r.ok) throw new Error('HTTP '+r.status);
      status.textContent = 'Thanks — message sent.'; status.className='note ok'; form.reset();
    } catch (err) {
      console.error(err); status.textContent='Sorry, send failed. Try again later.'; status.className='note err';
    }
  });
</script>
